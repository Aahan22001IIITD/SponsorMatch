<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h1>Admin Dashboard</h1>

        <!-- Statistics Overview -->
        <div class="mt-4">
            <p>Total Influencers: {{ stats.total_infl }}</p>
            <p>Total Sponsors: {{ stats.total_spons }}</p>
            <p>Total Campaigns: {{ stats.total_campaigns }}</p>
            <p>Public Campaigns: {{ stats.public_campaigns }}</p>
            <p>Private Campaigns: {{ stats.private_campaigns }}</p>
            <p>All Requests: {{ stats.all_requests }}</p>
            <p>Ongoing Campaigns: {{ stats.ongoing_camps }}</p>
            <p>Flagged Campaigns: {{ stats.flagged_campaign }}</p>
            <p>Flagged Influencers: {{ stats.flagged_influencers }}</p>
        </div>

        <!-- Buttons to View Data -->
        <div class="mt-4">
            <a href="/admin/view_influencers" class="btn btn-primary">View Influencers</a>
            <a href="/admin/view_sponsors" class="btn btn-secondary">View Sponsors</a>
            <a href="/admin/view_campaigns" class="btn btn-info">View Campaigns</a>
            <a href="/admin/view_requests" class="btn btn-warning">View Requests</a>
            <a href="/admin/view_ongoing_campaigns" class="btn btn-success">View Ongoing Campaigns</a>
            <a href="/admin/view_flagged_users" class="btn btn-danger">View Flagged Users</a>
            <a href="/admin/flag_user" class="btn btn-danger">Flag a User</a>
        </div>
        

        <!-- Charts for Statistics -->
        <div class="mt-4">
            <h3>Charts</h3>
            <canvas id="statsChart"></canvas>
            <script>
                var ctx = document.getElementById('statsChart').getContext('2d');
                var statsChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Total Influencers', 'Total Sponsors', 'Total Campaigns', 'Public Campaigns', 'Private Campaigns', 'All Requests', 'Ongoing Campaigns', 'Flagged campaigns', 'Flagged Influencers'],
                        datasets: [{
                            label: 'Counts',
                            data: [{{ stats.total_infl }}, {{ stats.total_spons }}, {{ stats.total_campaigns }}, {{ stats.public_campaigns }}, {{ stats.private_campaigns }}, {{ stats.all_requests }}, {{ stats.ongoing_camps }}, {{ stats.flagged_campaign }}, {{ stats.flagged_influencers }}],
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            borderColor: 'rgba(75, 192, 192, 1)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            </script>
        </div>
    </div>
</body>
</html>